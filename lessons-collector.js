!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://localhost:3002/",n(n.s=26)}({0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{static fileNameNormalize(e){let t=e.trim().split(""),n={"\\":"_","/":"_",":":"-","*":"_","?":"7",'"':"'","<":"{",">":"}","|":" l "};return(t=t.map(e=>n[e]||e)).join("")}static fileNameExt(e){let t=e.match(/.*(\.\w*)/i);return t&&t[1]}static blob2base64(e){return new Promise(t=>{let n=new FileReader;n.onload=e=>t(e.target.result),n.readAsDataURL(e)})}static StrBytes(e){var t,n,r,a=0,o=e.length;for(r=0;r<o;r++)(t=e.charCodeAt(r))>=55296&&t<57344&&t<56320&&r+1<o&&(n=e.charCodeAt(r+1))>=56320&&n<57344?(a+=4,r++):a+=t<128?1:t<2048?2:3;return a}static Percent(e,t,n=2){if(0===t)return(0).toFixed(n);return(100*e/t).toFixed(n)}static FileSize(e=0,t=!1){if(e=+e,isNaN(e))return!1;let n=0,r=["Б","КБ","МБ","ГБ","ТБ"];function a(e){return e>1024&&n<4?(n++,a(e/1024)):e}return t?{size:a(e),level:n,unit:r[n]}:`${a(e).toFixed(1)} ${r[n]}`}static UrlParse(e){var t={},n=e.match(/(http\:\/\/|https\:\/\/|ftp\:\/\/)(.*?\..*?\/)(.*\/)*(.*)(\/.*\.(.*))*/i);if(t.schema=n[1],t.host=n[2],t.path=n[3].split("/"),t.path=t.path.filter((function(e){return e.length>0})),n[4]){var r=n[4].split(".");if(r.length>1){var a=r.pop(),o=r.join(".");t.file={fileName:o+"."+a,name:o,ext:a}}else t.path.push(n[4])}return t}static TimeNormalizer(e=0,t=!1,n=!1){if("number"!=typeof e||e<0)return!1;let r=[],a=e/1e3,o={day:"д",hour:"ч",min:"мин",sec:"с",msec:"мс"},s=60,i=3600,l=86400,c=!1;function u(e,t){t<=0&&!c||(c=!0,r.push({unit:o[e],value:t}))}let d=Math.floor(a/l);u("day",d),a-=d*l;let m=Math.floor(a/i);u("hour",m),a-=m*i,u("min",Math.floor(a/s));let f=Math.floor(a%60);(!t&&!c||f>0)&&(c=!0,u("sec",f));let h=Math.round(1e3*(a%60-f));return!t&&c||(c=!0,u("msec",h)),n?r:r.reduce((e,t,n)=>e+`${n>0?" ":""}${t.value}${t.unit}`,"")}}},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t={}){this.name=e,this.default_val=t,this.init()}set(e,t){if(void 0===t)return!1;let n=JSON.parse(localStorage.getItem(this.name));return n[e]=t,localStorage.setItem(this.name,JSON.stringify(n)),n}get(e){return JSON.parse(localStorage.getItem(this.name))[e]}getAll(){return JSON.parse(localStorage.getItem(this.name))}remove(e){let t=JSON.parse(localStorage.getItem(this.name));return delete t[e],localStorage.setItem(this.name,JSON.stringify(t)),t}clear(){localStorage.removeItem(this.name),this.prepareStorage()}prepareStorage(){return null==localStorage.getItem(this.name)&&(localStorage.setItem(this.name,JSON.stringify(this.default_val)),!0)}init(){this.prepareStorage()}}},26:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),o=n(0),s=n(2);class i{static async collectLessonsData(e){let t=document.querySelector("#lessons-list").querySelectorAll(".lessons-item"),n=[];return t.forEach((t,r)=>{let a=e.get(r),s={index:r,name_prefix:o.a.fileNameNormalize(t.querySelector('[itemprop="name"]').textContent),name_concat:" ",lesson_name:o.a.fileNameNormalize(t.querySelector(".lessons-name").textContent),storage_name:r,url:t.querySelector('[itemprop="url"]').href,ext:o.a.UrlParse(t.querySelector('[itemprop="url"]').href).file.ext,content:null,mime:null,total:a?+a:0,loaded:a?+a:0,percent:a?100:0,is_checked:!0,is_loading:!1,is_loaded:!!a,was_loaded:!!a};n.push(s)}),n}static async collectMaterials(e,t,n){let r=document.querySelector('[title="Download course materials"]');if(!r)return!1;let a=e.get("code");return{index:t,name_prefix:"Материалы курса",name_concat:" - ",lesson_name:o.a.fileNameNormalize(n),storage_name:"code",url:r.href,ext:o.a.UrlParse(r.href).file.ext,content:null,mime:null,total:a?+a:0,loaded:a?+a:0,percent:a?100:0,is_checked:!0,is_loading:!1,is_loaded:!!a,was_loaded:!!a}}}window.lessonsCollector=new class{constructor(){var e,t,n;n=async()=>{let e=o.a.UrlParse(document.location.href);e=e.path.pop(),this.setCourseName(e),this.storage=new s.a(e,{});let t=document.querySelector("h1.hero-title").textContent;this.setCourseDisplayName(t),await this.collectLessonItems(),await this.collectMaterials(),a()(JSON.stringify(this.json," ",4),`${o.a.fileNameNormalize(t)}.json`,"application/json")},(t="collectLessons")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.json={course_name:"",course_display_name:"",lesson_items:[]},this.storage=null,this.init()}get cnt(){return this.json.lesson_items.length}get getCourseDisplayName(){return this.json.course_display_name}createBtn(){this.btn=document.createElement("button"),this.btn.className="btn mt-20 ml-20",this.btn.textContent="Скачать json с уроками",this.btn.addEventListener("click",this.collectLessons),document.querySelector("#lessons-toggle").after(this.btn)}async collectLessonItems(){let e=await i.collectLessonsData(this.storage);e&&(e.forEach(e=>this.addItem(e)),this.storage.set("cnt",this.cnt))}async collectMaterials(){try{let e=await i.collectMaterials(this.storage,this.cnt,this.getCourseDisplayName);e&&this.addItem(e)}catch(e){}}addItem(e){this.json.lesson_items.push(e)}setCourseName(e){this.json.course_name=e}setCourseDisplayName(e){this.json.course_display_name=e}init(){this.createBtn()}destroy(){this.btn.remove()}}},5:function(e,t,n){var r,a,o;a=[],void 0===(o="function"==typeof(r=function(){return function e(t,n,r){var a,o,s=window,i="application/octet-stream",l=r||i,c=t,u=!n&&!r&&c,d=document.createElement("a"),m=function(e){return String(e)},f=s.Blob||s.MozBlob||s.WebKitBlob||m,h=n||"download";if(f=f.call?f.bind(s):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),u&&u.length<2048&&(h=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var p=new XMLHttpRequest;return p.open("GET",u,!0),p.responseType="blob",p.onload=function(t){e(t.target.response,h,i)},setTimeout((function(){p.send()}),0),p}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&f!==m))return navigator.msSaveBlob?navigator.msSaveBlob(v(c),h):S(c);l=(c=v(c)).type||i}else if(/([\x80-\xff])/.test(c)){for(var g=0,y=new Uint8Array(c.length),b=y.length;g<b;++g)y[g]=c.charCodeAt(g);c=new f([y],{type:l})}function v(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),a=r.length,o=0,s=new Uint8Array(a);o<a;++o)s[o]=r.charCodeAt(o);return new f([s],{type:n})}function S(e,t){if("download"in d)return d.href=e,d.setAttribute("download",h),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){s.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=c instanceof f?c:new f([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(a,h);if(s.URL)S(s.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===m)try{return S("data:"+l+";base64,"+s.btoa(a))}catch(e){return S("data:"+l+","+encodeURIComponent(a))}(o=new FileReader).onload=function(e){S(this.result)},o.readAsDataURL(a)}return!0}})?r.apply(t,a):r)||(e.exports=o)}});