!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://localhost:3002/",n(n.s=25)}({0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{static fileNameNormalize(e){let t=e.trim().split(""),n={"\\":"_","/":"_",":":"-","*":"_","?":"7",'"':"'","<":"{",">":"}","|":" l "};return(t=t.map(e=>n[e]||e)).join("")}static fileNameExt(e){let t=e.match(/.*(\.\w*)/i);return t&&t[1]}static blob2base64(e){return new Promise(t=>{let n=new FileReader;n.onload=e=>t(e.target.result),n.readAsDataURL(e)})}static StrBytes(e){var t,n,o,r=0,a=e.length;for(o=0;o<a;o++)(t=e.charCodeAt(o))>=55296&&t<57344&&t<56320&&o+1<a&&(n=e.charCodeAt(o+1))>=56320&&n<57344?(r+=4,o++):r+=t<128?1:t<2048?2:3;return r}static Percent(e,t,n=2){if(0===t)return(0).toFixed(n);return(100*e/t).toFixed(n)}static FileSize(e=0,t=!1){if(e=+e,isNaN(e))return!1;let n=0,o=["Б","КБ","МБ","ГБ","ТБ"];function r(e){return e>1024&&n<4?(n++,r(e/1024)):e}return t?{size:r(e),level:n,unit:o[n]}:`${r(e).toFixed(1)} ${o[n]}`}static UrlParse(e){var t={},n=e.match(/(http\:\/\/|https\:\/\/|ftp\:\/\/)(.*?\..*?\/)(.*\/)*(.*)(\/.*\.(.*))*/i);if(t.schema=n[1],t.host=n[2],t.path=n[3].split("/"),t.path=t.path.filter((function(e){return e.length>0})),n[4]){var o=n[4].split(".");if(o.length>1){var r=o.pop(),a=o.join(".");t.file={fileName:a+"."+r,name:a,ext:r}}else t.path.push(n[4])}return t}static TimeNormalizer(e=0,t=!1,n=!1){if("number"!=typeof e||e<0)return!1;let o=[],r=e/1e3,a={day:"д",hour:"ч",min:"мин",sec:"с",msec:"мс"},i=60,s=3600,l=86400,c=!1;function u(e,t){t<=0&&!c||(c=!0,o.push({unit:a[e],value:t}))}let d=Math.floor(r/l);u("day",d),r-=d*l;let m=Math.floor(r/s);u("hour",m),r-=m*s,u("min",Math.floor(r/i));let f=Math.floor(r%60);(!t&&!c||f>0)&&(c=!0,u("sec",f));let p=Math.round(1e3*(r%60-f));return!t&&c||(c=!0,u("msec",p)),n?o:o.reduce((e,t,n)=>e+`${n>0?" ":""}${t.value}${t.unit}`,"")}}},25:function(e,t,n){"use strict";n.r(t);var o=n(4),r=n.n(o),a=n(0);class i{static async collectLessonsData(){let e=document.querySelector("#lessons-list").querySelectorAll(".lessons-item"),t=[];return e.forEach((e,n)=>{let o={index:n,name_prefix:a.a.fileNameNormalize(e.querySelector('[itemprop="name"]').textContent),name_concat:" ",lesson_name:a.a.fileNameNormalize(e.querySelector(".lessons-name").textContent),storage_name:n,url:e.querySelector('[itemprop="url"]').href,ext:a.a.UrlParse(e.querySelector('[itemprop="url"]').href).file.ext,content:null,mime:null,total:0,loaded:0,percent:0,is_checked:!0,is_loading:!1,is_loaded:!1,was_loaded:!1};t.push(o)}),t}static async collectMaterials(e,t){let n=document.querySelector('[title="Download course materials"]');return!!n&&{index:e,name_prefix:"Материалы курса",name_concat:" - ",lesson_name:a.a.fileNameNormalize(t),storage_name:"code",url:n.href,ext:a.a.UrlParse(n.href).file.ext,content:null,mime:null,total:0,loaded:0,percent:0,is_checked:!0,is_loading:!1,is_loaded:!1,was_loaded:!1}}}window.lessonsCollector=new class{constructor(){var e,t,n;n=async()=>{let e=a.a.UrlParse(document.location.href);e=e.path.pop(),this.setCourseName(e);let t=document.querySelector("h1.hero-title").textContent;this.setCourseDisplayName(t),await this.collectLessonItems(),await this.collectMaterials(),r()(JSON.stringify(this.json," ",4),`${a.a.fileNameNormalize(t)}.json`,"application/json")},(t="collectLessons")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.json={url:window.location.href,course_name:"",course_display_name:"",lesson_items:[]},this.init()}get cnt(){return this.json.lesson_items.length}get getCourseDisplayName(){return this.json.course_display_name}createBtn(){this.btn=document.createElement("button"),this.btn.className="btn mt-20 ml-20",this.btn.textContent="Скачать json с уроками",this.btn.addEventListener("click",this.collectLessons),document.querySelector("#lessons-toggle").after(this.btn)}async collectLessonItems(){let e=await i.collectLessonsData();e&&e.forEach(e=>this.addItem(e))}async collectMaterials(){try{let e=await i.collectMaterials(this.cnt,this.getCourseDisplayName);e&&this.addItem(e)}catch(e){}}addItem(e){this.json.lesson_items.push(e)}setCourseName(e){this.json.course_name=e}setCourseDisplayName(e){this.json.course_display_name=e}init(){this.createBtn()}destroy(){this.btn.remove()}}},4:function(e,t,n){var o,r,a;r=[],void 0===(a="function"==typeof(o=function(){return function e(t,n,o){var r,a,i=window,s="application/octet-stream",l=o||s,c=t,u=!n&&!o&&c,d=document.createElement("a"),m=function(e){return String(e)},f=i.Blob||i.MozBlob||i.WebKitBlob||m,p=n||"download";if(f=f.call?f.bind(i):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),u&&u.length<2048&&(p=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var h=new XMLHttpRequest;return h.open("GET",u,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,p,s)},setTimeout((function(){h.send()}),0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&f!==m))return navigator.msSaveBlob?navigator.msSaveBlob(v(c),p):w(c);l=(c=v(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var y=0,b=new Uint8Array(c.length),g=b.length;y<g;++y)b[y]=c.charCodeAt(y);c=new f([b],{type:l})}function v(e){for(var t=e.split(/[:;,]/),n=t[1],o=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=o.length,a=0,i=new Uint8Array(r);a<r;++a)i[a]=o.charCodeAt(a);return new f([i],{type:n})}function w(e,t){if("download"in d)return d.href=e,d.setAttribute("download",p),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(r=c instanceof f?c:new f([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,p);if(i.URL)w(i.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===m)try{return w("data:"+l+";base64,"+i.btoa(r))}catch(e){return w("data:"+l+","+encodeURIComponent(r))}(a=new FileReader).onload=function(e){w(this.result)},a.readAsDataURL(r)}return!0}})?o.apply(t,r):o)||(e.exports=a)}});